!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.expand=t():e.expand=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addExpand=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),r=n(2),u={},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,r.updateState)(e,"data-initial-state",t?"true":"false")},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.controllerElements.forEach(function(n){(0,r.updateState)(n,"aria-pressed",e.expanded?"true":"false"),l(n,t)}),(0,r.updateState)(e.controlledElement,"aria-expanded",e.expanded?"true":"false"),l(e.controlledElement,t)},d=function(e){var t=e.controlledID;!1===e.expanded&&(e.controlledElement.setAttribute("id",""),window.requestAnimationFrame(function(){e.controlledElement.setAttribute("id",t)}))},i=function(e){e.expanded=!e.expanded,a(e),d(e)},c=function(e,t){e.controllerElements.push(t),t.setAttribute("aria-controls",e.controlledID)},f=function(e){try{window.document.querySelector(":target")===e.controlledElement&&i(e)}catch(e){}},s=function(e){var t=e.getAttribute("data-controls"),n=window.document.getElementById(t),o="true"===e.getAttribute("data-expand-default-state"),u=n.getAttribute("role"),l={controllerElements:[],controlledElement:n,controlledID:t,defaultState:o,expanded:o},d=l.controllerElements;return l.controlledElement.setAttribute("role",u||"region"),window.document.documentElement.addEventListener("click",function(e){d.reduce(function(t,n){return(0,r.isOrContains)(n,e.target)?n:t},null)&&i(l)}),a(l,!0),c(l,e),a(l,!1),f(l),l},p=t.addExpand=function(e){var t=e.getAttribute("data-controls");u[t]?c(u[t],e):u[t]=s(e)};(0,o.default)("[data-expand]").forEach(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t||document;return Array.prototype.slice.call(n.querySelectorAll(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isOrContains=function(e,t){return e===t||e.contains(t)},t.updateState=function(e,t,n){e.getAttribute(t)!==n&&e.setAttribute(t,n)}}])});
//# sourceMappingURL=expand.js.map